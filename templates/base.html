<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>$title$</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  $if(description)$<meta name="description" content="$description$" />$endif$
  $if(keywords)$<meta name="keywords" content="$keywords$" />$endif$
  <link rel="preload" href="style.css" as="style" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://unpkg.com/lunr/lunr.js" defer></script>
  <script defer src="search.js"></script>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>
  <button id="themeToggle" aria-label="Toggle dark mode" class="theme-toggle">ðŸŒ“</button>
  <div class="container">
    <aside class="sidebar" aria-label="Sidebar Navigation">
      <input id="searchInput" type="search" placeholder="Search..." aria-label="Search content" />
      <ul id="searchResults" aria-live="polite" class="search-results"></ul>
      <nav class="tag-index" aria-label="Tag index">
        <!-- Tag index will be injected by tag plugin if available -->
        $tagindex$
      </nav>
      $sidebar.html()$
    </aside>
    <main id="main" class="content" role="main">
      <article>
        <header><h1>$title$</h1></header>
        $body$
      </article>
      <footer class="site-footer"><small>Generated by Cruella â€¢ <span id="genTime"></span></small></footer>
    </main>
  </div>
  <script>
    (function(){
      const btn=document.getElementById('themeToggle');
      const root=document.documentElement;
      const pref=localStorage.getItem('theme');
      if(pref==='dark') root.classList.add('dark');
      btn.addEventListener('click',()=>{root.classList.toggle('dark');localStorage.setItem('theme',root.classList.contains('dark')?'dark':'light');});
      const t=document.getElementById('genTime'); if(t) t.textContent=new Date().toLocaleString();
    })();
  </script>
</body>
</html>
